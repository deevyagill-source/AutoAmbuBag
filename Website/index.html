<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-AmbuBag Project</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* CSS STYLES */
        :root {
            --primary-color: #005A9C;
            --dark-gray: #333;
            --light-gray: #f4f4f4;
            --text-color: #555;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            color: var(--text-color);
            line-height: 1.7;
        }

        /* --- Navigation Bar --- */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        nav .container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
        }

        nav ul li {
            margin: 0 1.5rem;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 700;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--primary-color);
        }
        
        /* Hamburger menu for mobile */
        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }
        .menu-toggle .bar {
            height: 3px;
            width: 25px;
            background-color: var(--dark-gray);
            margin: 4px 0;
            transition: 0.3s;
        }


        /* --- Hero Section --- */
        .hero {
            height: 100vh;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            overflow: hidden;
        }

        .hero-video-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            transform: translate(-50%, -50%);
            z-index: -1;
        }
        
        .hero-video-wrapper iframe {
            width: 100vw;
            height: 56.25vw; /* 16:9 aspect ratio */
            min-height: 100vh;
            min-width: 177.77vh; /* 16:9 aspect ratio */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 0;
        }

        .hero-content {
            z-index: 1;
            padding: 2rem;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.5rem;
            font-weight: 300;
        }

        /* --- General Section Styling --- */
        section {
            padding: 5rem 2rem;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        h2 {
            font-size: 2.5rem;
            color: var(--dark-gray);
            text-align: center;
            margin-bottom: 3rem;
        }

        h3 {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        h4 {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-gray);
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        section#project, section#impact, section#team, footer {
            background: var(--light-gray);
        }

        a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: bold;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul {
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 0.5rem;
        }

        /* --- Engineering Notebook Section --- */
        .notebook-entry {
            background: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            margin-bottom: 2rem;
        }
        
        .notebook-entry img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
        }
        
        .image-caption {
            font-style: italic;
            text-align: center;
            color: #777;
            display: block;
            margin-top: 0.5rem;
        }

        /* --- Team Section --- */
        #team .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        #team .team-category {
            background: #fff;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        #team .team-category h4 {
            margin-top: 0;
        }
        
        #team ul {
            padding-left: 0;
            list-style: none;
        }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 3rem 1rem;
            background: var(--dark-gray);
            color: #fff;
        }
        
        footer h3 {
            color: #fff;
        }
        
        footer a {
            color: #fff;
            font-weight: normal;
        }
        
        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            .hero p {
                font-size: 1.2rem;
            }
            nav .container {
                justify-content: flex-end;
            }
            nav ul {
                display: none;
                flex-direction: column;
                width: 100%;
                position: absolute;
                top: 60px;
                left: 0;
                background: white;
                text-align: center;
            }
            nav ul.active {
                display: flex;
            }
            nav ul li {
                margin: 1rem 0;
            }
            .menu-toggle {
                display: flex;
            }
        }
    </style>
</head>
<body>

    <nav id="navbar">
        <div class="container">
            <div class="menu-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <ul class="nav-list" id="nav-list">
                <li><a href="#project">Project</a></li>
                <li><a href="#engineering">Engineering</a></li>
                <li><a href="#impact">Impact</a></li>
                <li><a href="#team">Team</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <header class="hero" id="home">
        <div class="hero-video-wrapper">
            <iframe 
                src="https://www.youtube.com/embed/yAOU9Yi40EQ?autoplay=1&mute=1&controls=1&loop=1&playlist=yAOU9Yi40EQ" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
            </iframe>
        </div>
        <div class="hero-content">
            <h1>Auto-AmbuBag - A Portable Automated BVM</h1>
            <p>A collaboration with Indus Hospital for use in disaster response and rural healthcare in Pakistan.</p>
        </div>
    </header>

    <section id="project">
        <div class="container">
            <h2>From Clinical Need to Working Device</h2>
            <h3>The Challenge</h3>
            <p>
                <a href="https://indushospital.org.pk" target="_blank">Indus Hospital</a> is the largest health network in Pakistan, providing absolutely free healthcare to 6 million people annually. Pakistan is also among the top five nations most vulnerable to climate change, devastated by frequent monsoon floods. To better support health needs during disasters and in hard-to-reach rural areas, Indus Hospital wanted to create a low-cost ventilator that is safe and portable. The key requirements were:
            </p>
            <ul>
                <li>Lightweight and small size for portability.</li>
                <li>Ability to operate on battery backup for at least 2 hours to handle unreliable or damaged power infrastructure.</li>
                <li>Robustness for transporting patients over unpaved or damaged roads.</li>
                <li>Safety features for lung pressure monitoring and an emergency stop.</li>
                <li>User controls for Breaths Per Minute (BPM), Tidal Volume, and Inhale-Exhale ratio with specific ranges.</li>
                <li>The first version needed to work for adults only (no infant or child support).</li>
                <li>Keep costs under $1,000 (the typical retail cost is over $10,000).</li>
            </ul>
            <h3>Our Solution</h3>
            <p>
                To solve this problem, we started with the <a href="https://emergency-vent.mit.edu/" target="_blank">MIT Emergency Ventilator (E-Vent)</a> open-source project, which was conceived at the height of the COVID pandemic amid a worldwide shortage of ventilators. We researched several other open-source projects that built on the MIT design and found the <a href="https://www.monolithicpower.com/en/mps-open-source-ventilator" target="_blank">MPS design</a> to be a good fit. Our solution learns from both of these projects and modifies them in several key ways to meet the specific requirements for the Auto-AmbuBag.
            </p>
        </div>
    </section>

    <section id="engineering">
        <div class="container">
            <h2>Our Design Process: A Quick Overview</h2>
            <p>
                Starting from the requirements, we held a series of meetings with our Advisors who suggested various options to explore for our hardware and software needs. Given the trail blazed by the MIT & MPS prototypes, some decisions were relatively easy to make:
            </p>
            <ul>
                <li>Using an Arduino as the microcontroller.</li>
                <li>Using a system of gears to exert rotational force, rather than linear force with actuators. This results in a smaller device and better reliability.</li>
                <li>Utilizing an encoder on the motor to granularly control the speed and range of motion, a <a href="https://emergency-vent.mit.edu/mechanical/motor-selection/" target="_blank">key learning from the MIT project</a>.</li>
                <li>Implementing the same user interface recommendations made by the MIT project (controls for BPM, Tidal Volume, I/E ratio, and lung pressure).</li>
            </ul>
            <p>
                By leveraging the existing state-of-the-art, we made rapid progress. However, some requirements unique to the Indus Hospital use case necessitated innovation and deviation from the original designs. As a result, we:
            </p>
            <ul>
                <li><b>Reduced the physical size</b> by making efficient use of space. With guidance from advisors, we sourced smaller components. A smaller power supply and a motor with integrated gears made the biggest difference.</li>
                <li><b>Incorporated a power management and battery charging module</b> to enable switching to battery power during outages.</li>
                <li><b>Switched to a 12V ecosystem</b> to enable charging and operation from an ambulance power outlet during transport.</li>
                <li><b>Conserved power</b> by using a lower-torque motor (9 N-m vs. 15 N-m), a non-touch screen display with aggressive brightness controls, and a design that eliminated the need for active cooling.</li>
                <li><b>Added an SpO2 sensor</b> to monitor blood oxygen saturation, displaying the reading on the device screen for clinicians.</li>
            </ul>
            <p>The modifications above allowed us to take advantage of existing open-source knowledge while adjusting the design for the unique needs we had to meet.</p>
            
            <div class="notebook-entry">
                <h3>The Motor: The Heart of the System</h3>
                <h4>Challenge:</h4>
                <p>To generate controlled torque to squeeze the AmbuBag while operating in limited power conditions or during transport. This requires a high-torque, low-revolutions-per-minute (RPM) motor.</p>
                <h4>Options Explored:</h4>
                <p>This was the longest part of our journey and led to many frustrating dead-ends. We struggled for over a month with various brushless DC motors, stepper motors, and driver chipsets (TMC2208, TB6600, BTS7960), facing issues with mechanical complexity, power draw, heat, noise, and control. Stepper motors, even with an encoder for closed-loop operation, would skip under load and were difficult to control precisely. A lower-torque DC motor (5 N-m) worked well initially but failed at higher settings.</p>
                
                <h4>Decision & Rationale:</h4>
                <p>We selected the <strong>goBILDA Yellow Jacket DC brushed motor (9 N-m torque at 84 RPM)</strong>. This motor worked perfectly for all required configurations and required a minimal gear system. It also has a built-in encoder, which simplified our design. The goBILDA ecosystem provided easily available mounts, connectors, and motor drivers, with plenty of example code. After a long journey, we ended up with a great choice for the most important component in the system.</p>
                <img src="https://cdn11.bigcommerce.com/s-x56mtydx1w/images/stencil/original/products/1481/14805/5203-2402-0071__95957.1746576808.jpg?c=1" alt="goBILDA Yellow Jacket motor">
                <span class="image-caption">goBILDA Yellow Jacket motor with built-in encoder.</span>
            </div>
            
            <div class="notebook-entry">
                <h3>Power System</h3>
                <h4>Challenge:</h4>
                <p>To design a power system that could run continuously for 4+ hours when plugged in and 2+ hours on battery.</p>
                <h4>Options Explored:</h4>
                <p>The motor is the most power-hungry component. We considered a 24V motor for efficiency but decided against it to avoid the complexity of a boost converter. After experimentation, we found a 12V motor could efficiently manage the required load. For our local testing, we used latex balloons to simulate the resistance of a human lung. For a typical Indus configuration (15 BPM, 750ml Tidal Volume, 1:2 I:E ratio), the device drew less than 1A of power hourly.</p>
                <h4>Decision & Rationale:</h4>
                <p>We picked a <strong>4-cell, 6Ah Lithium-Ion battery</strong> that is an off-the-shelf component, easily procured and replaceable in Pakistan. This is important as Li-ion batteries have a finite cycle life. We can double the capacity to 12Ah by adding a second battery within the same design, comfortably exceeding the 2-hour battery requirement. For future iterations, we are considering a different battery chemistry that is heavier but offers more capacity and a longer cycle life at half the price.</p>
                <img src="https://m.media-amazon.com/images/I/712D67kkiVL._AC_SX679_.jpg" alt="Lithium-Ion Battery">
                <span class="image-caption">The 12V 6Ah Li-ion battery used in the design.</span>
            </div>

            <div class="notebook-entry">
                <h3>User Interface (UI) & Controls</h3>
                <h4>Challenge:</h4>
                <p>To create a simple, intuitive interface for clinicians to view and set ventilation parameters (BPM, Tidal Volume, I/E Ratio, Pressure, User Messages) as specified by our Indus Hospital partners.</p>
                <h4>Options Explored:</h4>
                <ul>
                    <li><strong>Large Touch Screen:</strong> Intuitive and easy to read, but too power-hungry for our requirements.</li>
                    <li><strong>Multiple Potentiometers:</strong> Simple hardware, but imprecise and lacked necessary numerical feedback for clinicians.</li>
                    <li><strong>LCD Screen with Rotary Encoder:</strong> A good balance of cost, low power consumption, and functionality, allowing for precise digital control.</li>
                </ul>
                
                <h4>Decision & Rationale:</h4>
                <p>We selected a <strong>2.4-inch LCD digital display with a single rotary encoder and push-button</strong>. This interface is robust and cost-effective. It allowed us to program a simple menu where clinicians can precisely set and confirm each parameter, meeting the hospital's exact usability requirements.</p>
                <img src="https://images.squarespace-cdn.com/content/v1/5a620c86010027ed573ce59a/1562100956416-BV329Y4B6ZOHRLEA4D8A/bvm.jpg?format=1500w" alt="Prototype with AmbuBag">
                <span class="image-caption">Early prototype showing the AmbuBag and mechanical assembly.</span>
            </div>
        </div>
    </section>

    <section id="impact">
        <div class="container">
            <h2>Real-World Application & Pilot with Indus Hospital</h2>
            <p>
                This project has been a deep collaboration with Indus Hospital staff from the start. The design meets all required specifications and has been approved by their biomedical department. Most of the original requirements are successfully implemented and tested. To ready the device for field testing, the following work remains to be completed:
            </p>
            <ul>
                <li>Integrate a <a href="https://www.mouser.com/ProductDetail/Honeywell/HSCMRRV001PD2A3" target="_blank">Honeywell medical-grade pressure sensor</a> to continuously monitor and control the pressure in the patient's airways. This is a critical safety feature we plan to add before the pilot program begins in Summer 2026.</li>
            </ul>
        </div>
    </section>

    <section id="team">
        <div class="container">
            <h2>Our Team & Supporters</h2>
            <div class="team-grid">
                <div class="team-category">
                    <h4>Core Project Team</h4>
                    <ul>
                        <li><strong>Batul Siddiqui</strong> – Hardware & Software Engineering</li>
                        <li><strong>Eshaal Liaqat</strong> – 3D Design & Fabrication (CAD)</li>
                        <li><strong>Divya</strong> – Documentation</li>
                    </ul>
                </div>
                <div class="team-category">
                    <h4>Advisors & Mentors</h4>
                    <ul>
                        <li><strong>Sadia Saleem</strong>: Assistant Manager Biomedical - Indus Hospital</li>
                        <li><strong>Palwasha Khan</strong>: Respiratory Therapist - Indus Hospital</li>
                        <li><strong>Zain Masaud</strong>: Clinical Nursing Instructor - Indus Hospital</li>
                        <li><strong>Faraz Khan</strong>: Principal Hardware Engineer - <a href="https://www.exactsciences.com/" target="_blank">Exact Sciences</a></li>
                        <li><strong>Adeel Siddiqui</strong>: VP Engineering - <a href="https://relational.ai/" target="_blank">RelationalAI</a></li>
                    </ul>
                </div>
                <div class="team-category">
                    <h4>Supporting Organizations</h4>
                     <p>We extend our sincere thanks to the medical team at <a href="https://indushospital.org.pk" target="_blank">Indus Hospital</a> for their guidance and to the <a href="https://www.monolithicpower.com/en/mps-open-source-ventilator" target="_blank">MPS Open Source Project</a> for their inspiration and hardware donation.</p>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="container">
            <h3>Contact the Team</h3>
            <p>For inquiries, please contact: <a href="mailto:batulfsiddiqui@outlook.com">batulfsiddiqui@outlook.com</a></p>
        </div>
    </footer>

    <script>
        // JavaScript for mobile menu
        const mobileMenu = document.getElementById('mobile-menu');
        const navList = document.getElementById('nav-list');

        mobileMenu.addEventListener('click', () => {
            navList.classList.toggle('active');
        });
        
        // Close menu when a link is clicked
        const navLinks = document.querySelectorAll('.nav-list li a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (navList.classList.contains('active')) {
                    navList.classList.remove('active');
                }
            });
        });

    </script>
</body>
</html>
