<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-AmbuBag - A Portable Automated BVM</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #005A9C;
            --dark-color: #333;
            --light-color: #f4f4f4;
            --white-color: #ffffff;
            --font-family: 'Lato', 'Roboto', sans-serif;
        }

        /* Base Reset and Typography */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-family);
            line-height: 1.6;
            color: var(--dark-color);
            background-color: var(--white-color);
        }

        a {
            color: var(--primary-color);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .container {
            max-width: 1200px;
            margin: auto;
            overflow: hidden;
            padding: 0 20px;
        }

        h1, h2, h3 {
            margin-bottom: 1rem;
            line-height: 1.2;
            font-weight: 700;
        }

        h2 {
            font-size: 2.5rem;
            text-align: center;
            color: var(--primary-color);
            margin-top: 2rem;
        }

        h3 {
            font-size: 1.75rem;
            color: var(--dark-color);
            border-bottom: 2px solid var(--light-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        p {
            margin-bottom: 1rem;
        }

        /* --- Navigation Bar --- */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: var(--white-color);
            color: var(--dark-color);
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .navbar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 20px;
        }

        .navbar .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .navbar ul {
            display: flex;
            list-style: none;
        }

        .navbar ul li a {
            padding: 0.5rem 1rem;
            text-transform: uppercase;
            font-weight: 400;
            color: var(--dark-color);
            transition: color 0.3s;
        }

        .navbar ul li a:hover {
            color: var(--primary-color);
            text-decoration: none;
        }

        /* Mobile Menu Button - Hidden on Desktop */
        .menu-toggle {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--dark-color);
        }

        /* --- Hero Section --- */
        .hero {
            position: relative;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            margin-top: 60px; /* Offset for fixed navbar */
        }

        .hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Dark overlay for text readability */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--white-color);
            padding: 0 20px;
        }
        
        .video-embed-wrapper {
            max-width: 800px;
            width: 90%;
            margin-top: 1rem;
            /* 16:9 Aspect Ratio (56.25% of the width) */
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        }
        
        .video-embed-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
        }

        .hero p {
            font-size: 1.5rem;
            font-weight: 300;
        }

        /* --- Section Styling --- */
        section {
            padding: 4rem 0;
        }

        .section-light {
            background-color: var(--light-color);
        }

        .section-content {
            padding: 2rem 0;
        }
        
        /* --- Project Section List Styling --- */
        .challenge-list {
            list-style: none;
            padding-left: 0;
            margin-bottom: 2rem;
        }

        .challenge-list li {
            background: var(--white-color);
            padding: 10px 15px;
            border-left: 3px solid var(--primary-color);
            margin-bottom: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .challenge-list strong {
            font-weight: 700;
        }

        /* --- Engineering Notebook Section --- */
        .engineering-entry {
            background: var(--white-color);
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .engineering-entry h4 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-top: 0;
            border-bottom: 1px dashed var(--light-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .entry-section {
            margin-top: 1rem;
        }

        .entry-section strong {
            display: block;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .entry-section ul {
            list-style: disc;
            padding-left: 20px;
            margin-bottom: 1rem;
        }

        .image-container {
            text-align: center;
            margin-top: 1.5rem;
        }

        .image-container img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .image-container p {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.5rem;
            font-style: italic;
        }
        
        /* --- Team & Acknowledgements Section --- */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 1.5rem;
        }
        
        .team-member, .organization-info {
            background: var(--white-color);
            padding: 1.5rem;
            border-left: 5px solid var(--primary-color);
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .team-member strong {
            display: block;
            font-size: 1.2rem;
        }
        
        .team-member p {
            margin: 0;
            color: #666;
        }
        
        /* --- Contact Section / Footer --- */
        .contact {
            text-align: center;
            padding: 3rem 0;
            background-color: var(--dark-color);
            color: var(--white-color);
        }

        .contact h2 {
            color: var(--white-color);
        }

        .contact a {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 1.2rem;
        }

        /* --- Responsiveness (Media Queries) --- */
        @media (max-width: 768px) {
            /* Navbar adjustments for mobile */
            .navbar .container {
                padding: 0.5rem 20px;
            }

            .navbar ul {
                display: none;
                flex-direction: column;
                width: 100%;
                text-align: center;
                background-color: var(--white-color);
                position: absolute;
                top: 60px; /* Height of the logo/toggle bar */
                left: 0;
                box-shadow: 0 4px 5px rgba(0, 0, 0, 0.1);
            }

            .navbar ul.active {
                display: flex;
            }

            .navbar ul li {
                padding: 10px 0;
                border-bottom: 1px solid var(--light-color);
            }
            
            .navbar ul li:last-child {
                border-bottom: none;
            }

            .menu-toggle {
                display: block;
            }
            
            /* Hero adjustments */
            .hero {
                 margin-top: 50px; /* Reduced offset for smaller navbar */
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.2rem;
            }

            h2 {
                font-size: 2rem;
            }
            
            h3 {
                font-size: 1.5rem;
            }

            .engineering-entry {
                padding: 1rem;
            }
            
            .team-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="container">
            <span class="logo">Auto-AmbuBag</span>
            <div class="menu-toggle" onclick="toggleMenu()">&#9776;</div>
            <ul id="nav-links">
                <li><a href="#project">Project</a></li>
                <li><a href="#engineering">Engineering</a></li>
                <li><a href="#impact">Impact</a></li>
                <li><a href="#team">Team</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <header id="hero" class="hero">
        <div class="hero-overlay">
            <h1>Auto-AmbuBag - A Portable Automated BVM</h1>
            <p>Collaboration with Indus Hospital for use in disaster response and rural healthcare in Pakistan.</p>
            
            <div class="video-embed-wrapper">
                <iframe 
                    src="https://www.youtube.com/embed/yAOU9Yi40EQ?si=0dN8rkxRo_q_O23x&autoplay=1&mute=1&controls=1" 
                    title="Auto-AmbuBag Video" 
                    allow="autoplay; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>
        </div>
    </header>
    
    <section id="project" class="section-content">
        <div class="container">
            <h2>From Clinical Need to Working Device</h2>
            <hr>
            
            <h3>The Challenge</h3>
            <p><strong>Indus Hospital & Health Network</strong> is the largest health network in Pakistan providing absolutely free healthcare to 6 million people annually. Pakistan is also among the top 5 climate change vulnerable nations, devastated by frequent monsoon floods. To better support the health needs during disasters and hard-to-reach rural areas, Indus hospital desires to create a low-cost ventilator that is safe and portable. The key requirements are:</p>
            
            <ul class="challenge-list">
                <li><strong>Light weight and small size</strong> for portability.</li>
                <li>Can operate on **battery backup** for at least **2 hours** to deal with unreliable or damaged power infrastructure.</li>
                <li>Can be used for **transporting patients** over unpaved or damaged roads.</li>
                <li>**Safety features** for lung pressure monitoring and emergency stop.</li>
                <li>**User controls** for breath per minute, Tidal Volume and Inhale-Exhale ratio with specific ranges.</li>
                <li>In the first version, the device needs to work only for **adults** (no infant or child support).</li>
                <li>Keep **cost under $1000** (retail cost is over $10,000).</li>
            </ul>
            
            <h3>Our Solution</h3>
            <p>To solve this problem, we started from the <a href="https://emergency-vent.mit.edu/" target="_blank">MIT Emergency Ventilator</a> open-source project. The E-Vent project was conceived at the height of COVID, when worldwide shortage of ventilators was causing severe challenges. We researched several other open-source projects that build on the MIT design and found the <a href="https://www.monolithicpower.com/en/mps-open-source-ventilator" target="_blank">MPS design</a> to be a good fit. Our solution learns from both these projects and modifies them in several key ways to meet the requirements for the **Auto-AmbuBag**.</p>
        </div>
    </section>

    <hr>
    
    <section id="engineering" class="section-light">
        <div class="container">
            <h2>Our Design Process: A Quick Overview</h2>
            <hr>
            <p>Starting from the requirements, we held a series of meetings with our Advisors who suggested various options to explore for hardware and software needs. Given the trail blazed by MIT & MPS prototypes, some decisions were relatively easy to make:</p>
            <ul>
                <li>Using an **Arduino** as the microcontroller for the AutoBVM.</li>
                <li>Using a system of **gears to exert rotational force**, rather than linear force with actuators. This would result in a smaller device (for portability) and better duty cycle (reliability).</li>
                <li>Utilize **encoder on the motor** to granularly control the speed and range of motion of the respiration phases. This was one of key learnings from the <a href="https://emergency-vent.mit.edu/mechanical/motor-selection/" target="_blank">MIT project</a>.</li>
                <li>Implement the same user interface recommendation made by the MIT project (user controls for BPM, Tidal Volume, I/E ratio and lung pressure).</li>
            </ul>
            <p>By leveraging the existing state-of-the-art, we were able to make rapid progress on many aspects of the design and implementation. There were some requirements unique to the Indus Hospital use case that necessitated innovation and/or deviation from the original design. As a result, we:</p>
            <ul>
                <li>**Reduced the physical size** by making efficient use of the space within the device. With the guidance of advisors, we were able to find smaller sized components to conserve space. A smaller power supply and integrated gears within the motor made the biggest difference. The Auto-AmbuBag device is significantly smaller than both MIT and MPS devices.</li>
                <li>Incorporated a **power management and battery charging module** to enable switching over the battery in case of power outages.</li>
                <li>Switched to a **12V ecosystem** to enable charging and operating the device from the power outlet of an ambulance during patient transportation.</li>
                <li>**Conserved power** by making a few decisions that differed from reference design:
                    <ul>
                        <li>The lungs of COVID patients are especially resistant to manual inspiration, requiring higher powered motors (15 N-m torque minimum). For the Indus use case, we were able to work with a **9 N-m motor**, significantly reducing power needs.</li>
                        <li>Used **non-touch screen display**, with aggressive brightness controls to reduce power consumption.</li>
                        <li>Due to low power consumption, heat production is also controlled, **removing the need for any active cooling.**</li>
                    </ul>
                </li>
                <li>Added an **SpO2 sensor** that comes with the Auto-AmbuBag and can attach to the patient’s finger to monitor Oxygen saturation in the bloodstream. The measured oxygen saturation will be displayed on the device screen, enabling the clinician to modify the ventilator settings as needed.</li>
            </ul>
            <p>The modifications above made it possible to take advantage of existing open-source knowledge where possible, while adjusting the design for the unique needs we had to meet.</p>
            
            <div class="engineering-entry">
                <h4>Entry 1: Power System</h4>
                <div class="entry-section">
                    <strong>Challenge:</strong> 
                    <p>To design a power system that could run continuously for 4+ hours when plugged in and 2+ hours on battery.</p>
                </div>
                <div class="entry-section">
                    <strong>Options Explored:</strong>
                    <ul>
                        <li>The motor is expected to use the vast majority of the power. We considered using a **24V motor** that would be more operationally efficient, but would require a boost converter from 12V input. This would have introduced one more component and a potential failure point. After some experimentation, we found that **12V motors** can efficiently manage the required load, resulting in a simpler overall design.</li>
                        <li>The second most power hungry component was expected to be the display screen. We selected a **low power, 2.4 inch LCD display** with configurable backlight. With aggressive backlight control, we reduced the consumption to approximately 0.05Ah, which is negligible.</li>
                        <li>For typical configuration used by Indus (15 bpm, Tidal vol of 750 & I:E of 2), the device was able to operate the BVM while drawing **less than 1 A of power hourly**. The power consumption is expected to increase under load conditions. This can be tested accurately using a hospital grade breathing simulator, available at the Indus Hospital biomedical device department. For our local testing, we used latex balloons that simulates the resistance and pushback of a human lung.</li>
                    </ul>
                </div>
                <div class="entry-section">
                    <strong>Decision & Rationale:</strong>
                    <p>We picked a **4-cell and 6Ah Lithium-Ion battery** that is an off-the-shelf component, easily procured and replaceable in Pakistan. Procurement is important as Li-ion batteries have finite cycle life and will need to be replaced as battery performance drops. We can double to total 12Ah capacity by adding one more battery within the same design. The device weight will go up by 529g and the cost will increase by ~$40, but the size will remain the same. We are confident that we will comfortably **exceed the 2 hour battery operation time requirement** for the Auto-AmbuBag.</p>
                    <p>For future iterations, we are considering a different battery that is heavier but provides more capacity (8Ah), longer cycle life (4000+) at half the price ($18). This is a potential improvement to experiment with in the future.</p>
                </div>
                <div class="image-container">
                    <img src="images/myimage.jpg" alt="Battery used in the design">
                    <p>Battery used in the design</p>
                </div>
            </div>

            <div class="engineering-entry">
                <h4>Entry 2: The Motor - The Heart of the system</h4>
                <div class="entry-section">
                    <strong>Challenge:</strong> 
                    <p>To generate controlled torque to squeeze the AmbuBag while operating in limited power conditions or during transport. This requires a high torque, low revolutions per minute (rpm) motor.</p>
                </div>
                <div class="entry-section">
                    <strong>Options Explored:</strong>
                    <ul>
                        <li>This was the longest part of the journey and led to many frustrating dead-ends.</li>
                        <li>After learning how to control a motor with Arduino, we first tried a donated **brushless DC motor from MPS**. The motor itself was of excellent quality and power, but had very high rpm (4000). We had to attach 100:1 planetary gear to the motor, and add a series of additional gear to convert the speed into torque. The mechanical design became complex and the device size became too big as a result.</li>
                        <li>We next switched to a **low rpm stepper motor**. We went through multiple drivers (TMC2208, TB6600, BTS7960) to discover problems after problems. The stepper motor kept skipping under load, causing it to slowly drift across respiration cycles. Even after adding an encoder for close-loop operation, the stepper motor was hard to control and not fundamentally well suited to this use case, as confirmed by the manufacturer.</li>
                        <li>We first picked a **TorqueNADO MAX motor** (100 rpm and 5 N-m torque). It performed smoothly but lacked the necessary torque at higher bpm and tidal volume to keep up with the load.</li>
                        <li>Encouraged to be back on track, we selected a **goBILDA Yellow Jacket DC motor with 9 N-m torque at 84 rpm speed**. This motor worked perfectly for all ranges of configuration we needed to support, requiring a minimal gear system in the design. This motor also has built-in support for encoder, which reduces one more component to install in our design.</li>
                    </ul>
                </div>
                <div class="entry-section">
                    <strong>Decision & Rationale:</strong>
                    <p>We picked the **goBILDA Yellow Jacket DC brushed motor**. This motor met all our needs of **low rpm, high torque, encoder support for closed loop operation and low cost ($55)**. The goBILDA ecosystem also has easily available mounts, connectors and motor drivers, with plenty of example code we could use. It took a while but we learnt a ton along the way and ended up with a great choice for the most important component in the system.</p>
                </div>
                <div class="image-container">
                    <img src="https://cdn11.bigcommerce.com/s-x56mtydx1w/images/stencil/original/products/1481/14805/5203-2402-0071__95957.1746576808.jpg?c=1" alt="goBILDA Yellow Jacket motor with encoder">
                    <p>goBILDA Yellow Jacket motor with encoder</p>
                </div>
            </div>
            
            <div class="engineering-entry">
                <h4>Entry 3: User Interface (UI) & Controls</h4>
                <div class="entry-section">
                    <strong>Challenge:</strong> 
                    <p>To create a simple, intuitive interface for clinicians to view and set ventilation parameters (BPM, Tidal Volume, I/E Ratio, Pressure, User messages) as specified by our Indus Hospital partners.</p>
                </div>
                <div class="entry-section">
                    <strong>Options Explored:</strong>
                    <ul>
                        <li>**Large touch screen:** Intuitive but highly power hungry, which was a critical constraint.</li>
                        <li>**Multiple Potentiometers:** Simple hardware, but imprecise and lacked the necessary numerical feedback.</li>
                        <li>**Touchscreen LCD:** Highly flexible, but expensive, power-intensive, and complex to program.</li>
                        <li>**LCD Screen with Rotary Encoder:** A robust balance of cost, low power, and necessary digital functionality.</li>
                    </ul>
                </div>
                <div class="entry-section">
                    <strong>Decision & Rationale:</strong>
                    <p>We selected a **16x2 LCD screen with a single rotary encoder and push-button**. This interface was the most robust and cost-effective. It allowed me to program a simple menu where clinicians could precisely set and confirm each parameter, meeting the hospital's exact usability requirements while conserving power.</p>
                </div>
                <div class="image-container">
                    <img src="https://images.squarespace-cdn.com/content/v1/5a620c86010027ed573ce59a/1562100956416-BV329Y4B6ZOHRLEA4D8A/bvm.jpg?format=1500w" alt="From a simple potentiometer to the final LCD and encoder interface.">
                    <p>From a simple potentiometer to the final LCD and encoder interface.</p>
                </div>
            </div>

        </div>
    </section>

    <hr>
    
    <section id="impact" class="section-content section-light">
        <div class="container">
            <h2>Real-World Application & Pilot with Indus Hospital</h2>
            <hr>
            <h3>Collaboration with <a href="https://indushospital.com.pk" target="_blank">Indus Hospital & Health Network</a></h3>
            <p>This project has been a deep collaboration with Indus hospital staff from the start. The design meets all required specifications and has been approved by the biomedical department at Indus. Most of the original requirements are successfully implemented and tested. To ready the device for field testing at Indus Hospital, the following work remains to be completed:</p>
            
            <p><strong>Pressure Sensor Integration:</strong> Pressure sensor to continuously monitor and control the pressure in the patient airways. While this device will be field tested at lower settings, this is an important safety feature we plan to add to the Auto-AmbuBag first. We will be using the **Honeywell medical grade pressure sensor** (<a href="https://www.mouser.com/ProductDetail/Honeywell/HSCMRRV001PD2A3" target="_blank">HSCMRRV001PD2A3</a>) for this task.</p>
        </div>
    </section>

    <hr>

    <section id="team" class="section-content">
        <div class="container">
            <h2>Our Team & Supporters</h2>
            <hr>
            
            <h3>Core Project Team</h3>
            <div class="team-grid">
                <div class="team-member">
                    <strong>Batul Siddiqui</strong>
                    <p>Hardware & Software Engineering</p>
                </div>
                <div class="team-member">
                    <strong>Eshaal Liaqat</strong>
                    <p>3D design & fabrication (CAD, 3D Design)</p>
                </div>
                <div class="team-member">
                    <strong><a href="https://www.linkedin.com/in/divya-gill-387884274" target="_blank">Divya Gill</a></strong>
                    <p>Documentation</p>
                </div>
            </div>
            
            <h3>Advisors & Mentors</h3>
            <div class="team-grid">
                <div class="team-member">
                    <strong>Sadia Saleem</strong>
                    <p>Assistant Manager Biomedical - Indus Hospital</p>
                </div>
                <div class="team-member">
                    <strong>Palwasha Khan</strong>
                    <p>Respiratory Therapist - Indus Hospital</p>
                </div>
                <div class="team-member">
                    <strong>Zain Masaud</strong>
                    <p>Clinical Nursing Instructor - Indus Hospital</p>
                </div>
                <div class="team-member">
                    <strong>Faraz Khan</strong>
                    <p>Principal Hardware Engineer - Exact Sciences</p>
                </div>
                <div class="team-member">
                    <strong>Adeel Siddiqui</strong>
                    <p>VP Engineering - RelationalAI</p>
                </div>
            </div>
            
            <h3>Supporting Organizations</h3>
            <p>We extend our sincere thanks to the medical team at <a href="https://indushospital.com.pk" target="_blank">Indus Hospital</a> for their guidance and to the <a href="https://www.monolithicpower.com/en/mps-open-source-ventilator" target="_blank">MPS Open Source Project</a> for their inspiration and hardware donation.</p>

        </div>
    </section>

    <hr>

    <footer id="contact" class="contact">
        <div class="container">
            <h2>Contact the Team</h2>
            <p>For inquiries, please contact: <a href="mailto:batulfsiddiqui@outlook.com">batulfsiddiqui@outlook.com</a></p>
            <p>&copy; 2025 Auto-AmbuBag Project. All rights reserved.</p>
        </div>
    </footer>

    <script>
        function toggleMenu() {
            const navLinks = document.getElementById('nav-links');
            navLinks.classList.toggle('active');
        }
    </script>

</body>
</html>
